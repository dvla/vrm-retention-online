@(field: play.api.data.Field,
    id: String,
    years: Seq[(String, String)],
    args: Map[Symbol, Any],
    dateService: services.DateService,
    showTodaysDateButton: Boolean)(implicit lang: Lang)

@import uk.gov.dvla.vehicles.presentation.common.views.helpers.EmptyTemplate.fieldConstructor
@import uk.gov.dvla.vehicles.presentation.common.views.html.widgets.base.valtechSelect
@import views.html.helper.dateConstraintRequired
@import mappings.disposal_of_vehicle.Dispose.{DateOfDisposalId, TodaysDateOfDisposal}

@import scala.language.postfixOps

<fieldset>
    @dateConstraintRequired(field, args) <!-- datePlaceholder -->

    @if(showTodaysDateButton) {
    <script src="@routes.Assets.at("javascripts/autofill-todays-date.js")" type="text/javascript"></script>

        <div class="step js-only">
            <button id="@TodaysDateOfDisposal" type="button" name="action" class="button" onclick="AutoFillTodaysDate(@{dateService.today.day},
                @{dateService.today.month}, @{dateService.today.year}, '@TodaysDateOfDisposal', '@{DateOfDisposalId}_day', '@{DateOfDisposalId}_month',
            '@{DateOfDisposalId}_year')">@Messages("disposal_dispose.todays_date_of_disposal")</button>
        </div>
    }

    <div class="form-inline form-date">
        <div class="form-item">
            @* Day field. Overriding the default select message with "Day". *@
            @valtechSelect(field("day"),
                defaultOptionMessage = "datePlaceholder.day",
                options = ((1 to 31) map(v => (v toString) -> (if (v < 10) "0" + v else v toString))).asInstanceOf[Seq[(String, String)]])
        </div>

        <div class="form-item">
            @* Month field. Overriding the default select message with "Month". *@
            @valtechSelect(field("month"),
                defaultOptionMessage = "datePlaceholder.month",
                options = Seq(
                    "1" -> Messages("datePlaceholder.January"),
                    "2" -> Messages("datePlaceholder.February"),
                    "3" -> Messages("datePlaceholder.March"),
                    "4" -> Messages("datePlaceholder.April"),
                    "5" -> Messages("datePlaceholder.May"),
                    "6" -> Messages("datePlaceholder.June"),
                    "7" -> Messages("datePlaceholder.July"),
                    "8" -> Messages("datePlaceholder.August"),
                    "9" -> Messages("datePlaceholder.September"),
                    "10" -> Messages("datePlaceholder.October"),
                    "11" -> Messages("datePlaceholder.November"),
                    "12" -> Messages("datePlaceholder.December")
                )
            )
        </div>

        <div class="form-item">
            @* Year field. Overriding the default select message with "Year". *@
            @valtechSelect(field("year"),
                defaultOptionMessage = "datePlaceholder.year",
                options = years
            )
        </div>

    </div>

</fieldset>