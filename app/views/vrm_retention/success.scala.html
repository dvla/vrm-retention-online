@(successViewModel: models.SuccessViewModel)(implicit lang: Lang,
    token: uk.gov.dvla.vehicles.presentation.common.filters.CsrfPreventionAction.CsrfPreventionToken,
    config: utils.helpers.Config)

@import controllers.routes.Success
@import views.html.vrm_retention.main
@import views.vrm_retention.Success.FinishId

@main(
    title = Messages("vrm_retention_success.title")
) {

	<div class="alert-complete">
	    <h2>@Messages("vrm_retention_success.subtitle") @successViewModel.registrationNumber </h2>
	    <p>@Messages("vrm_retention_success.yourCert") @successViewModel.retentionCertificationNumber </p>
	    <p>@Messages("vrm_retention_success.infoMsg")</p>
	</div>
	<h2>@Messages("vrm_retention_success.replacementTitle")</h2>
	<p>@Messages("vrm_retention_success.retainConf-p1") @successViewModel.registrationNumber @Messages("vrm_retention_success.retainConf-p2")</p>
	<div class="alert-passive success-playback">
		<div class="two-col">
			<div class="first-col">
                <dl class="playback">
                    <dt>@Messages("vrm_retention_success.replacementRegNumberLabel")</dt>
                    <dd>@successViewModel.replacementRegistrationNumber</dd>
                    @if(successViewModel.vehicleMake.isDefined) {
                        <dt>@Messages("vrm_retention_vehicle_callback.makeLabel")</dt>
                        <dd>@successViewModel.vehicleMake.get.take(20)</dd>
                    }
                    @if(successViewModel.vehicleModel.isDefined) {
                        <dt>@Messages("vrm_retention_vehicle_callback.modelLabel")</dt>
                        <dd>@successViewModel.vehicleModel.get.take(20)</dd>
                    }
                </dl>
			</div>
			<div class="second-col">
				<p><strong>@Messages("vrm_retention_success.makingUp-p1")</strong></p>
				<p>@Messages("vrm_retention_success.makingUp-p2")</p>
				<a class="pdf-link" href="@Success.createPdf()">
					<img src="/vrm-retention/assets/images/PDF_download.png" alt="Download PDF">
					@Messages("vrm_retention_success.newPlateLink") @successViewModel.replacementRegistrationNumber
				</a>
			</div>
		</div>
	</div>
	<h2>@Messages("vrm_retention_success.newDocumentsTitle")</h2>
		<p>@Messages("vrm_retention_success.newDocumentsDesc")</p>
		<div class="two-col">
			<div class="first-col">
				<div class="alert-indent">
					<p>@Messages("vrm_retention_success.newDocumentsList-1")</p>
					<p>@Messages("vrm_retention_success.newDocumentsList-2")</p>
					<p>@Messages("vrm_retention_success.newDocumentsList-3")</p>
				</div>
			</div>
			<div class="second-col">
				<p><strong>@successViewModel.keeperTitle @successViewModel.keeperFirstName @successViewModel.keeperLastName </strong></p>
				<p>
					@for(keeperAddressLine <- successViewModel.keeperAddress.get.address.init) {
                    	@keeperAddressLine<br>
                	}
                    @successViewModel.keeperAddress.get.address.last
                    @if(successViewModel.keeperEmail.isDefined) {
                        <p>@successViewModel.keeperEmail</p>
                    }
                </p>
			</div>
		</div>
		<h2>@Messages("vrm_retention_success.aboutTransactionTitle")</h2>
	@if(successViewModel.businessName.isDefined) {
		<p>@Messages("vrm_retention_success.aboutTransactionDesc")</p>
		<div class="two-col">
			<div class="first-col">
                <h3>@successViewModel.businessName</h3>
                <h3>@successViewModel.businessContact</h3>
                <h3>@successViewModel.businessEmail</h3>
				<p>
					@for(businessAddressLine <- successViewModel.businessAddress.get.address.init) {
                    	@businessAddressLine<br>
                	}
                    @successViewModel.businessAddress.get.address.last
			</div>
			<div class="second-col">
				@*<label>@Messages("vrm_retention_success.aboutTransactionEmployeeLabel")</label> *@
				@*<input type="text">*@
				<dl class="playback transaction-details">
					<dt>@Messages("vrm_retention_success.aboutTransactionIdLabel")</dt>
					<dd> @successViewModel.transactionId</dd>
					<dt>@Messages("vrm_retention_success.aboutTransactionCompletedLabel")</dt>
					<dd> @successViewModel.transactionTimestamp</dd>
				</dl>
			</div>
		</div>
	} else {
				<dl class="playback transaction-details">
					<dt>@Messages("vrm_retention_success.aboutTransactionIdLabel")</dt>
					<dd> @successViewModel.transactionId</dd>
					<dt>@Messages("vrm_retention_success.aboutTransactionCompletedLabel")</dt>
					<dd> @successViewModel.transactionTimestamp</dd>
				</dl>

	}

	<button id="printRetainSuccess" type="button" name="action" value="printRetainSuccess" class="button js-only print-button">@Messages("global.buttonnavprint")</button>
    <a class="button-secondary" id="@FinishId" href="@controllers.routes.Success.finish()">@Messages("vrm_retention_finish.button")</a>

    <hr>
	<div class="two-col">
		<div class="first-col">
		    <h1>Payment Successful</h1>
		    <dl class="summary-replacement-reg">
		    	<dt>Keeper's replacement registration:</dt>
		    	<dd><strong>@successViewModel.replacementRegistrationNumber</strong></dd>
		    </dl>
		    <p>Your registration number, @successViewModel.registrationNumber, can now be taken off of your vehicle and you should arrange for new plates to be made for the replacement registration above through one of our registered number plate suppliers.</p>
		    <h2>What you need to do now</h2>
		    <ulv class="list-standard">
				<li>Inform your insurance company of your new registration number</li>
				<li>Use the eV948 opposite to arrange new plates to be made via a registered
				number plate supplier</li>
				<li>Destroy your old V5C, MOT certificate as these are no longer valid</li>
				<li>If you are selling your vehicle you will need to wait for a new V5C displaying
				the new registration number</li>
		    </ul>
		    <div class="info-notice">
			    <p>
			    	Please keep your eV948 in a safe place, we recommend printing it immediately as once you exit this service your certificate cannot be re- issued.
			    </p>
			    <p>
					In the event of such an occurrence you will have to wait for a new registration certificate (V5C) for your vehicle. This should arrive within 2 - 4 weeks by post.
			    </p>
			</div>
		</div>
		<div class="second-col">
			<h2>Making up your replacement plates</h2>
			<p>The document below is your number plate authorisation certificate (eV948), which you will need to have your plates made up.</p>

		</div>
	</div>
    <hr>



    <hr>
	<div class="two-col">
		<div class="first-col">
		    <div class="alert-complete">
			    <h2>@Messages("vrm_retention_success.subtitle") @successViewModel.registrationNumber </h2>
			    <p>@Messages("vrm_retention_success.yourCert") @successViewModel.retentionCertificationNumber </p>
			</div>
			<h3>What happens next?</h3>
			<p>The following items will be sent separately to you at your registered address:</p>
			<ul class="list-standard">
				<li>A new registration certificate (V5C) with the replacement registration
				number '@successViewModel.replacementRegistrationNumber'</li>
				<li>A replacement MOT certificate (for cars and motorcycles over 3 years old
				and heavy goods vehicles over 1 year old)</li>
				<li>A V778 retention doument to showing you as the 'Grantee'</li>
			</ul>
		</div>
		<div class="second-col">
			<div class="related">
				<h2>Transaction details</h2>
				<p>Transaction ID:</p>
				<p>@successViewModel.transactionId</p>
			</div>
			<div class="related">
				<h2>Keeper details</h2>
				<p>Name:</p>
				<p>@successViewModel.keeperFirstName @successViewModel.keeperLastName</p>
				<p>Keeper Address</p>
				<p>
					@for(keeperAddressLine <- successViewModel.keeperAddress.get.address.init) {
                    	@keeperAddressLine<br>
                	}
				</p>
			</div>
			<div class="related">
				<h3>DVLA Customer Service</h3>
				<p>Telephone<br>
				<strong>0300 790 6802</strong></p>
				<p>Textphone<br>
				<strong>18001 0300 123 1379</strong></p>
				<p>Lines Open<br>
				<strong>Monday to Friday, 8am to 7pm Saturday, 8am to 2pm</strong></p>
			</div>
		</div>
	</div>
    <hr>

    <hr>
    <h1>Print</h1>
    <hr>
}
