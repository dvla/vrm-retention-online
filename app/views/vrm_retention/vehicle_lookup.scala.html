@(vehicleAndKeeperLookupForm: Form[viewmodels.VehicleAndKeeperLookupFormModel])(implicit lang: Lang,
    token: uk.gov.dvla.vehicles.presentation.common.filters.CsrfPreventionAction.CsrfPreventionToken,
    config: utils.helpers.Config)

@import uk.gov.dvla.vehicles.presentation.common.mappings.{DocumentReferenceNumber, Postcode, VehicleRegistrationNumber}
@import uk.gov.dvla.vehicles.presentation.common.views.helpers.BaseTemplate.fieldConstructor
@import uk.gov.dvla.vehicles.presentation.common.views.html.widgets.base.{csrfTokenHiddenField, valtechInputText}
@import uk.gov.dvla.vehicles.presentation.common.views.html.widgets.listRadioGroup
@import views.html.helper.form
@import views.html.vrm_retention.main
@import views.vrm_retention.VehicleLookup._

@main(
    title = Messages("vrm_retention_vehiclelookup.title"),
    currentForm = Some(vehicleAndKeeperLookupForm)
) {
    @form(action = controllers.routes.VehicleLookup.submit()) {
        @csrfTokenHiddenField()
        <div class="two-col clearfix">
            <div class="uppercase-input first-col">
                <p>@Messages("vrm_retention_vehiclelookup.intro")</p>

                @valtechInputText(vehicleAndKeeperLookupForm(VehicleRegistrationNumberId),
                    args = Map(
                        '_label -> Messages("vrm_retention_vehiclelookup.vrninputlabel"),
                        'maxLength -> VehicleRegistrationNumber.MaxLength,
                        'hint -> Messages("vrm_retention_vehiclelookup.vrnHint"),
                        '_showConstraints -> false
                    )
                )

                @valtechInputText(vehicleAndKeeperLookupForm(DocumentReferenceNumberId),
                    args = Map(
                        '_label -> Messages("vrm_retention_vehiclelookup.refnumlabel"),
                        'hint -> Messages("vrm_retention_vehiclelookup.refnumHint"),
                        '_showConstraints -> false,
                        //'pattern -> ReferenceNumber.Pattern, // [SKW] Taken off HTML5 validation - for accessibility Tony removed have 'title text as the screen reader reads it twice, the knock-on effect is that our custom validation messages aren't displayed so the user has no idea what is wrong.
                        'maxLength -> DocumentReferenceNumber.MaxLength, // Must be set independently of the pattern as the pattern is only checked when the user submits.
                        //'title -> Messages("error.validDocumentReferenceNumber")
                        'title -> Messages("")
                    )
                )

                @valtechInputText(vehicleAndKeeperLookupForm(PostcodeId),
                    args = Map(
                        '_label -> Messages("vrm_retention_vehiclelookup.postcodelabel"),
                        '_showConstraints -> false,
                        'maxLength -> Postcode.MaxLength,
                        'hint -> Messages("vrm_retention_vehiclelookup.postcodeHint")
                    )
                )

                @listRadioGroup(field = vehicleAndKeeperLookupForm("keeperConsent"),
                    args = Map(
                        'items -> Seq(
                            UserType_Business -> Messages("vrm_retention_vehiclelookup.business"),
                            UserType_Keeper -> Messages("vrm_retention_vehiclelookup.keeper")
                        ),
                        'value -> UserType_Business, // One radio button is checked when user arrives on the page.
                        '_label -> Messages("vrm_retention_vehiclelookup.label")
                    )
                )

                @{/* Note primary button moved to first button as per https://www.gov.uk/service-manual/user-centered-design/resources/forms.html#buttons */}
                <div class="form-steps">
                    <button id="@SubmitId" type="submit" name="action" class="button">@Messages("vrm_retention_vehiclelookup.button")</button>
                    <a id="@BackId" href="@controllers.routes.VehicleLookup.back()" class="button-secondary">@Messages("vrm_retention_vehiclelookup.backbutton")</a>
                    <a class="button-secondary" id="@ExitId" href="@controllers.routes.MockFeedback.present()">@Messages("vrm_retention_exit.button")</a>
                </div>
            </div>
            <div class="second-col">
                <div class="img-wrap img-wrap-desktop">
                    <h2>Where to find your V5C document reference number</h2>
                    <img src="/vrm-retention/assets/images/document-reference-number.png" alt="V5C document reference number">
                </div>
            </div>
        </div>
    }
}